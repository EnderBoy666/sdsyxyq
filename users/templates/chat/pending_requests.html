{% extends 'xyq_files/base.html' %}

{% block title %}待处理的好友请求{% endblock %}

{% block content %}
<h2>待处理的好友请求</h2>
<div class="list-group mt-3">
    {% for request in pending_requests %}
    <div class="list-group-item d-flex justify-content-between align-items-center">
        <span>
            {{ request.from_user.username }} 想添加你为好友
            <small class="text-muted">{{ request.created_at|timesince }}前</small>
        </span>
        <div>
            <a href="{% url 'users:accept_friend_request' request.id %}" class="btn btn-sm btn-success">接受</a>
            <a href="{% url 'users:reject_friend_request' request.id %}" class="btn btn-sm btn-danger">拒绝</a>
        </div>
    </div>
    {% empty %}
    <div class="alert alert-info">没有待处理的好友请求</div>
    {% endfor %}
</div>
{% endblock %}