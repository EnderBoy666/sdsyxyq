{% extends "xyq_files/base.html" %}
{% block page_header %}
    <div class="jumbotron">
        <h1 class="display-3">欢迎来到师大实验校园墙！</h1>

        <p class="lead">站主&制作人：刻靖</p>
        <p style="font-size: 12px;">
            版本：1.8
        </p>
        {% if user.is_authenticated %}
            <a class="btn btn-lg btn-primary" href="{% url 'xyq_files:topics' %}"
                role="button">进入 &raquo;</a>
            <a class="btn btn-lg btn-primary" href="{% url 'users:logout' %}"
                role="button">登出 &raquo;</a>
        {% else %}
            <a class="btn btn-lg btn-primary" href="{% url 'users:register' %}"
                role="button">注册 &raquo;</a>
            <a class="btn btn-lg btn-primary" href="{% url 'users:login' %}"
                role="button">登录 &raquo;</a>
        {% endif %}
        <div id="datetime">
            <script>
                setInterval("document.getElementById('datetime').innerHTML=new Date().toLocaleString();", 1000);
            </script>
        </div>
    </div>
    <p align="center">中考倒计时：</p>
    <div id="countdown" class="center-text"></div>
    <script>
    // 目标日期
    var targetDate = new Date("2025-06-17T00:00:00");
    
    // 更新倒计时
    function updateCountdown() {
        var now = new Date();
        var timeLeft = targetDate - now;
    
        // 计算剩余的天、小时、分钟和秒
        var days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        var hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
    
        // 更新页面上的倒计时显示
        document.getElementById("countdown").innerHTML = days + "天 " + hours + "小时 " + minutes + "分钟 " + seconds + "秒";
    
        // 每秒钟更新一次倒计时
        setTimeout(updateCountdown, 1000);
    }
    
    // 启动倒计时
    updateCountdown();
    </script>
    
{% endblock page_header %}
